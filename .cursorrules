# Cursor Rules

## Instructions

- Record fixes for mistakes or corrections to avoid repetition in the `Lessons` section.
- Organize thoughts and plan steps before starting a task in the `Scratchpad` section.
- Clear old tasks if necessary.
- Use todo markers for progress tracking:
  - `[x]` Completed tasks
  - `[ ]` Pending tasks
- Update Scratchpad after completing subtasks.
- Reflect and plan after milestones for better task management.
- Always refer to Scratchpad before planning the next step.

## Lessons

## Scratchpad

### Ecommerce Website with Admin Dashboard Development Plan

### Phase 1: Project Setup & Foundation ✅
- [x] Initialize Next.js 15 project with TypeScript
- [x] Install and configure Shadcn UI components
- [x] Set up Tailwind CSS and custom theme
- [x] Configure ESLint and Prettier
- [x] Set up Git repository and initial commit
- [x] Create project structure and folder organization
- [x] Install core dependencies: Lucide, Zod, Zustand, Recharts, Resend, Uploadthing, Prisma, next-auth@beta, Stripe

### Phase 2: Database & Authentication Setup ✅
- [x] Set up PostgreSQL database
- [x] Configure Prisma schema:
  - [x] User model
  - [x] Product model
  - [x] Category model
  - [x] Order model
  - [x] Review model
  - [x] Cart model
- [x] Implement NextAuth.js authentication:
  - [x] Email/Password
  - [x] OAuth providers (Google, GitHub)
  - [x] JWT handling
  - [x] Protected routes

### Phase 3: Core Features - Customer Side ✅
- [x] Home Layout:
  - [x] Create `(home)` folder in `app` directory
  - [x] Header with logo, search bar, and navigation
  - [x] Footer with links and social media
- [x] Homepage:
  - [x] banner carousel
  - [x] latest products
- [] Products Catalog:
  - [] Sidebar with categories and filters
  - [] Search results
  - [] Product grid
  - [] Pagination
- [] Product pages:
  - [] Create product detail page layout
  - [] Implement image gallery with thumbnails
  - [] Add product information section:
    - [] Title, price, description
    - [] Stock status
    - [] Add to cart button
  - [] Reviews and ratings section:
    - [] Display existing reviews
    - [] Add review form for authenticated users
    - [] Star rating component
  - [] Related products section:
    - [] Show products from same category
    - [] Product card carousel
- [] Shopping cart:
  - [] Add/remove items
  - [] Update quantities
  - [] Cart persistence
- [] Checkout process:
  - [] Shipping information
  - [] Payment integration (Stripe)
  - [] Order confirmation
- [] User dashboard:
  - [] Order history
  - [] Profile management
  - [] Saved addresses
  - [] Wishlist

### Phase 4: Admin Dashboard ✅
- [] Admin authentication and authorization
- [] Dashboard overview:
  - [] Layout and Structure:
    - [] Create admin dashboard layout with sidebar navigation
    - [] Implement responsive grid for dashboard widgets
    - [] Add loading states and error boundaries
  - [] Key Metrics Cards:
    - [] Total revenue widget with real data
    - [] Total orders widget with real data
    - [] Total customers widget with real data
    - [] Average order value widget with real data
  - [] Sales Analytics:
    - [] Revenue Chart:
      - [] Implement line chart using Recharts
      - [] Add daily/weekly/monthly/yearly filters
      - [] Show revenue trends over time
      - [] Add tooltip with detailed information
    - [] Order Statistics:
      - [] Bar chart for order volume
      - [] Order status distribution
      - [] Peak ordering times
  - [] Recent Orders Table:
    - [] Implement data table with columns:
      - [] Order ID
      - [] Customer name
      - [] Order total
      - [] Status
      - [] Date
    - [] Add sorting and filtering
    - [] Quick actions (view, process, update status)
  - [ ] Low Stock Alerts:
    - [ ] Products with stock below threshold
    - [ ] Quick restock actions
    - [ ] Stock level indicators
  - [ ] Top Products:
    - [ ] Best-selling products list
    - [ ] Revenue by product
    - [ ] Stock status
  - [ ] Customer Insights:
    - [ ] New vs returning customers
    - [ ] Customer acquisition chart
    - [ ] Top customers by revenue
  - [ ] Real-time Updates:
    - [ ] Implement WebSocket connection
    - [ ] Live order notifications
    - [ ] Stock level updates
  - [ ] Export and Reports:
    - [ ] CSV/PDF export functionality
    - [ ] Custom date range selection
    - [ ] Report generation
- [ ] Product management:
  - [ ] CRUD operations
  - [ ] Bulk actions
  - [ ] Image upload (Uploadthing)
- [ ] Order management:
  - [ ] Order processing
  - [ ] Status updates
  - [ ] Refund handling
- [ ] User management:
  - [ ] Customer list
  - [ ] Admin privileges
  - [ ] User actions

### Phase 5: Advanced Features [ ]
- [ ] Real-time notifications
- [ ] Email system (Resend):
  - [ ] Order confirmations
  - [ ] Shipping updates
  - [ ] Password reset
- [ ] Search optimization
- [ ] Performance optimization:
  - [ ] Image optimization
  - [ ] Caching strategies
  - [ ] API optimization
- [ ] Analytics and reporting

### Phase 6: Testing and Deployment [ ]
- [ ] Unit testing
- [ ] Integration testing
- [ ] E2E testing
- [ ] Security audit
- [ ] Production deployment:
  - [ ] Environment setup
  - [ ] CI/CD pipeline
  - [ ] Monitoring
  - [ ] Backup strategy

### Phase 7: Documentation [ ]
- [ ] API documentation
- [ ] User guide
- [ ] Admin documentation
- [ ] Deployment guide

### Technical Stack Details:
- **Frontend**: Next.js 15, TypeScript, Tailwind CSS, Shadcn UI
- **State Management**: Zustand
- **Icons**: Lucide React
- **Validation**: Zod
- **Charts**: Recharts
- **Email**: Resend
- **File Upload**: Uploadthing
- **Database**: PostgreSQL with Prisma ORM
- **Authentication**: next-auth@beta
- **Payments**: Stripe
- **Styling**: Tailwind CSS with custom components

### Key Features to Implement:
1. **Customer Features**:
   - Product browsing and search
   - Shopping cart and checkout
   - Order tracking
   - User profiles
   - Reviews and ratings
   - Wishlist

2. **Admin Features**:
   - Product management
   - Order management
   - Customer management
   - Analytics dashboard
   - Inventory control
   - Sales reports

3. **Technical Features**:
   - Responsive design
   - SEO optimization
   - Performance optimization
   - Security measures
   - Error handling
   - Real-time updates

### Development Guidelines:
- Use TypeScript strictly for type safety
- Follow Next.js 15 App Router patterns
- Implement proper error boundaries
- Use Zod for all form validation
- Follow responsive design principles
- Implement proper loading states
- Use semantic HTML and accessibility features
- Follow security best practices
- Write clean, maintainable code with proper comments
